<html>

<body>
    <script charset="utf-8" src="https://cdn.ethers.io/scripts/ethers-v4.min.js" type="text/javascript">
    </script>
    <!--* <p>Are you a Driver or a Passenger?</p>
    <a href="driverpage.html">Driver</a>
    <a href="passengerpage.html">Passenger</a>

    <p>Enter Wallet Address: 0xc71eE03358b107a91cD27B5fc303966e385891e8
        <form id="form" onsubmit="return false;">
            <input type="text" id="userInput1">
            <input type="submit" onclick="getIssuer()">
        </form>
    </p>-->
    <p>Enter Offer Expiry Date (MMDDYY) format: 101020
        <form id="form" onsubmit="return false;">
            <input type="text" id="userInput2">
            <input type="submit" onclick="getDeadline()">
        </form>
    </p>
    <p>Enter Longitude: 100
        <form id="form" onsubmit="return false;">
            <input type="text" id="userInput3">
            <input type="submit" onclick="getLong()">
        </form>
    </p>
    <p>Enter Latitude: 900
        <form id="form" onsubmit="return false;">
            <input type="text" id="userInput4">
            <input type="submit" onclick="getLat()">
        </form>
    </p>
    <p>Enter Cost($) per Passenger: 50
        <form id="form" onsubmit="return false;">
            <input type="text" id="userInput5">
            <input type="submit" onclick="getFee()">
        </form>
    </p>

    <script>
        var a;
        var b;
        var c;
        var d;
        var e;
        var f = "0x0000000000000000000000000000000000000000";
        var g = "false";
        var h = "0x0000000000000000000000000000000000000000";

        function getIssuer() {
            var input = document.getElementById("userInput1").value;
            let _a = input;
            a = _a;
            console.log(_a);
        }
        function getDeadline() {
            var input = document.getElementById("userInput2").value;
            let _b = input;
            b = _b;
            console.log(_b);
        }
        function getLong() {
            var input = document.getElementById("userInput3").value;
            let _c = input;
            c = _c;
            console.log(_c);
        }
        function getLat() {
            var input = document.getElementById("userInput4").value;
            let _d = input;
            d = _d;
            console.log(_d);
        }
        function getFee() {
            var input = document.getElementById("userInput5").value;
            let _e = input;
            e = _e;
            console.log(_e);
        }
    </script>

    <button onclick="issueBounty()"> Create a Ride Offer </button>

    <script>
        var provider = new ethers.providers.Web3Provider(web3.currentProvider, 'rinkeby');

        var ContractAddress = "0xf086c8abd34ee8a08f66209f80c9622ad17946be";
        var ContractABI = [{"constant":false,"inputs":[{"name":"_bountyId","type":"uint256"},{"name":"_fulfillmentId","type":"uint256"}],"name":"acceptFulfillment","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_bountyId","type":"uint256"},{"name":"_value","type":"uint256"}],"name":"activateBounty","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_bountyId","type":"uint256"},{"name":"_newDeadline","type":"uint256"}],"name":"extendDeadline","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_bountyId","type":"uint256"},{"name":"_long","type":"uint256"},{"name":"_lat","type":"uint256"}],"name":"fulfillBounty","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_issuer","type":"address"},{"name":"_deadline","type":"uint256"},{"name":"_long","type":"uint256"},{"name":"_lat","type":"uint256"},{"name":"_fulfillmentAmount","type":"uint256"},{"name":"_arbiter","type":"address"},{"name":"_paysTokens","type":"bool"},{"name":"_tokenContract","type":"address"},{"name":"_value","type":"uint256"}],"name":"issueAndActivateBounty","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_deadline","type":"uint256"},{"name":"_long","type":"uint256"},{"name":"_lat","type":"uint256"},{"name":"_fulfillmentAmount","type":"uint256"},{"name":"_arbiter","type":"address"},{"name":"_paysTokens","type":"bool"},{"name":"_tokenContract","type":"address"}],"name":"issueBounty","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_bountyId","type":"uint256"}],"name":"killBounty","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_owner","type":"address"}],"name":"StandardBounties","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_bountyId","type":"uint256"},{"name":"_fulfillmentId","type":"uint256"},{"name":"_long","type":"uint256"},{"name":"_lat","type":"uint256"}],"name":"updateFulfillment","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"bountyId","type":"uint256"}],"name":"BountyIssued","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"bountyId","type":"uint256"},{"indexed":false,"name":"issuer","type":"address"}],"name":"BountyActivated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"bountyId","type":"uint256"},{"indexed":true,"name":"fulfiller","type":"address"},{"indexed":true,"name":"_fulfillmentId","type":"uint256"}],"name":"BountyFulfilled","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_bountyId","type":"uint256"},{"indexed":false,"name":"_fulfillmentId","type":"uint256"}],"name":"FulfillmentUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"bountyId","type":"uint256"},{"indexed":true,"name":"fulfiller","type":"address"},{"indexed":true,"name":"_fulfillmentId","type":"uint256"}],"name":"FulfillmentAccepted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"bountyId","type":"uint256"},{"indexed":true,"name":"issuer","type":"address"}],"name":"BountyKilled","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"bountyId","type":"uint256"},{"indexed":true,"name":"contributor","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"ContributionAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"bountyId","type":"uint256"},{"indexed":false,"name":"newDeadline","type":"uint256"}],"name":"DeadlineExtended","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"bountyId","type":"uint256"}],"name":"BountyChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_bountyId","type":"uint256"},{"indexed":true,"name":"_newIssuer","type":"address"}],"name":"IssuerTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_bountyId","type":"uint256"},{"indexed":false,"name":"_newFulfillmentAmount","type":"uint256"}],"name":"PayoutIncreased","type":"event"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"bounties","outputs":[{"name":"issuer","type":"address"},{"name":"deadline","type":"uint256"},{"name":"long","type":"uint256"},{"name":"lat","type":"uint256"},{"name":"fulfillmentAmount","type":"uint256"},{"name":"arbiter","type":"address"},{"name":"paysTokens","type":"bool"},{"name":"bountyStage","type":"uint8"},{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"}];
        var Contract;

        provider.listAccounts().then(function (accounts) {
            signer = provider.getSigner(accounts[0]);
            Contract = new ethers.Contract(ContractAddress, ContractABI, signer);
            console.log(Contract);

        })
        async function issueBounty() {
            promise = Contract.issueBounty(b, c, d, e, f, g, h);
            await promise;
        }

    </script>

</body>

</html>