<html>
    <body>
        <script charset="utf-8" src="https://cdn.ethers.io/scripts/ethers-v4.min.js" type="text/javascript">
        </script>
<a href ="passengeroptions.html"> Look at Rides Wanted </a>
<br>OR</br>
<button onclick="createRide()"> Create a Ride Offer </button>

        <script>
            var provider = new ethers.providers.Web3Provider(web3.currentProvider, 'rinkeby');
    
            var ContractAddress = "0x33922b3766476fa2be1aa2f0278d400c8f366b6c";
            var ContractABI = [{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"ownerOfWant","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"matchedRides","outputs":[{"name":"driver","type":"address"},{"name":"passenger","type":"address"},{"name":"start","type":"string"},{"name":"end","type":"string"},{"name":"cost","type":"uint256"},{"name":"complete","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"ownerOfRide","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"availRideOffers","outputs":[{"name":"start","type":"string"},{"name":"end","type":"string"},{"name":"cost","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"rideId","type":"uint256"}],"name":"passengerChooseRide","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_start","type":"string"},{"name":"_end","type":"string"},{"name":"_cost","type":"uint256"}],"name":"createRide","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_start","type":"string"},{"name":"_end","type":"string"},{"name":"_cost","type":"uint256"}],"name":"createWant","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"rideId","type":"uint256"}],"name":"holdMoney","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_usertype","type":"string"}],"name":"setUserType","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"availRideWants","outputs":[{"name":"start","type":"string"},{"name":"end","type":"string"},{"name":"cost","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_rideId","type":"uint256"},{"indexed":false,"name":"_start","type":"string"},{"indexed":false,"name":"_end","type":"string"},{"indexed":false,"name":"_cost","type":"uint256"}],"name":"NewRide","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_rideId","type":"uint256"},{"indexed":false,"name":"_start","type":"string"},{"indexed":false,"name":"_end","type":"string"},{"indexed":false,"name":"_cost","type":"uint256"}],"name":"NewWant","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}];
            var Contract;
    
            provider.listAccounts().then(function (accounts) {
                signer = provider.getSigner(accounts[0]);
                Contract = new ethers.Contract(ContractAddress, ContractABI, signer);
                console.log(Contract);

            })
            async function createRide(){
                promise = Contract.createRide("toronto","montreal",1);
                await promise;
            }
    
        </script>

    </body>
</html>